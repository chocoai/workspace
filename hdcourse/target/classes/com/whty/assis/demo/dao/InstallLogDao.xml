<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.whty.assis.demo.dao.InstallLogDao">
	<resultMap type="com.whty.assis.demo.model.InstallLog" id="InstallLog">
		<id column="id" property="id" jdbcType="VARCHAR"/>
		<result column="area" property="area" jdbcType="VARCHAR"/>
		<result column="school" property="school" jdbcType="VARCHAR"/>
		<result column="class_Name" property="className" jdbcType="VARCHAR"/>
		<result column="cpu" property="cpu" jdbcType="VARCHAR"/>
		<result column="terminal_Version" property="terminalVersion" jdbcType="VARCHAR"/>
		<result column="memery" property="memery" jdbcType="VARCHAR"/>
		<result column="disk" property="disk" jdbcType="VARCHAR"/>
		<result column="mac" property="mac" jdbcType="VARCHAR"/>
		<result column="remarks" property="remarks" jdbcType="VARCHAR"/>
		<result column="create_time" property="createTime" />
		<result column="version" property="version" jdbcType="VARCHAR"/>
		<result column="area_code" property="areaCode" jdbcType="VARCHAR"/>
		<result column="school_code" property="schoolCode" jdbcType="VARCHAR"/>
		<result column="class_code" property="classCode" jdbcType="VARCHAR" />
		<result column="user_name" property="userName" jdbcType="VARCHAR" />
		<result column="user_id" property="userId" jdbcType="VARCHAR"/>
		<result column="freedisk" property="freedisk" jdbcType="VARCHAR"/>
	</resultMap>
	
	<select id="listByCondition" parameterType="map" resultMap="InstallLog">
	select * from TA_INSTALL_LOG WHERE 1=1
		<if test="area != null and area != ''">and area = #{area}</if>
		<if test="school != null and school != ''">and school = #{school}</if>
		<if test="userName != null and userName != ''">and user_name = #{userName}</if>
		<if test="startTime != null ">and create_time >=#{startTime}</if>
		<if test="endTime != null "><![CDATA[and create_time <=#{endTime}]]></if>
		order by create_time desc
	</select>
	
	<select id="queryInstallLog" parameterType="map" resultMap="InstallLog">
		select * from TA_INSTALL_LOG WHERE 1=1
		<if test="area != null and area != ''">and area = #{area}</if>
		<if test="school != null and school != ''">and school = #{school}</if>
		<if test="userName != null and userName != ''">and user_name = #{userName}</if>
		<if test="startTime != null ">and to_char(create_time,'yyyy-mm-dd')>=#{startTime}</if>
		<if test="endTime != null "><![CDATA[and to_char(create_time,'yyyy-mm-dd')<=#{endTime}]]></if>
	</select>
	
</mapper>