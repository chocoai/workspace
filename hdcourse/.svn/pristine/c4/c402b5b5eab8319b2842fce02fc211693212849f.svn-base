<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.whty.assis.demo.dao.BaiduFileDao">
	
	<resultMap type="com.whty.assis.demo.model.BaiduFile" id="BaiduFileResult">
		<result column="id" property="id"  />
		<result column="file_name" property="fileName"  />
		<result column="file_size" property="fileSize" />
		<result column="down_url" property="downUrl"  />
		<result column="md5" property="md5"  />
		<result column="create_time" property="createTime"  />
		<result column="update_time" property="updateTime"  />
		<result column="description" property="description"  />
		<result column="status" property="status"  />
	</resultMap>
	
	<select id="listByCondition" parameterType="map" resultMap="BaiduFileResult">
		select * from t_baidu_file WHERE 1=1 
	</select>
	
	<insert id="save" parameterType="com.whty.assis.demo.model.BaiduFile">
		insert into t_baidu_file(
			file_name,
			file_size,
			md5,
			create_time,
			<if test="description != null and description != ''">description,</if>
			<if test="status != null ">status,</if>
			update_time
			
			) values (
				#{fileName},
				#{fileSize},
				#{md5},
				#{createTime},
				<if test="description != null and description != '' ">#{description},</if>
				<if test="status != null ">#{status},</if>
				#{updateTime}
			)
	</insert>
	
	<update id="update" parameterType="com.whty.assis.demo.model.BaiduFile">
		update t_baidu_file 
		set 
		<trim prefixOverrides=",">
			<if test="downUrl != null and downUrl != ''">, down_url=#{downUrl}</if>
			<if test="status != null ">, status=#{status}</if>
		</trim>
		where id=#{id}
	</update>
	

</mapper>

